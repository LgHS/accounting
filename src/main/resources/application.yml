server:
  error:
    include-stacktrace: always
    include-exception: true

  forward-headers-strategy: framework

logging.config: classpath:logback-spring.xml

lghs.accounting:
  average-monthly-rent: 855
  coda-rs: "../coda-rs"
  deploy-url: "http://localhost:${server.port:8080}"

spring:
  profiles:
    active: dev

  datasource:
    url: jdbc:postgresql:lghs_accounting
    username: lghs_accounting_app
    password: ${DB_APP_PWD}

  flyway:
    url: ${spring.datasource.url}
    user: lghs_accounting_root
    password: ${DB_ROOT_PWD}
    schemas: accounting

  security:
    oauth2:
      client:
        registration:
          members:
            client-id: "accounting"
            client-secret: "${OAUTH2_CLIENT_SECRET}"
            user-name-attribute: "username"
        provider:
          members:
            issuer-uri: "${OAUTH2_ISSUER_URI}"

  mail:
    port: 465
    protocol: smtps
    properties:
      "[mail.smtp.connectiontimeout]": 1000
      "[mail.smtp.timeout]": 1000
      "[mail.smtp.writetimeout]": 1000

handlebars:
  cache: false
  resolver:
    field: false
    method: true # i.e. used to call signum on BigDecimal
    java-bean: true
    map: true
  expose-spring-macro-helpers: false

pebble:
  cache: false
  strict-variables: true
  suffix: '.peb'
  
---
spring.config.activate.on-profile: prd

handlebars:
  cache: true

pebble:
  cache: true
